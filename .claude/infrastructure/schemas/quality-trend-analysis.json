{
  "$schema": "https://json-schema.org/draft/2025-08/schema",
  "$id": "https://ai-podcasts-nobody-knows.com/schemas/quality-trend-analysis.json",
  "title": "Quality Trend Analysis Schema",
  "description": "Schema for quality metrics trending analysis and predictive quality intelligence",
  "type": "object",
  "properties": {
    "analysis_metadata": {
      "type": "object",
      "properties": {
        "analysis_id": {
          "type": "string",
          "pattern": "^qta_[0-9]{8}_[0-9]{6}$",
          "description": "Unique quality trend analysis identifier",
          "examples": ["qta_20250822_143025"]
        },
        "analysis_timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "When this trend analysis was generated"
        },
        "analysis_period": {
          "type": "object",
          "properties": {
            "start_date": {
              "type": "string",
              "format": "date-time"
            },
            "end_date": {
              "type": "string",
              "format": "date-time"
            },
            "time_window": {
              "type": "string",
              "enum": ["1_day", "7_days", "30_days", "90_days"],
              "description": "Analysis time window"
            },
            "data_points_analyzed": {
              "type": "integer",
              "minimum": 1,
              "description": "Number of quality evaluations analyzed"
            }
          },
          "required": ["start_date", "end_date", "time_window", "data_points_analyzed"],
          "additionalProperties": false
        }
      },
      "required": ["analysis_id", "analysis_timestamp", "analysis_period"],
      "additionalProperties": false
    },
    "quality_trend_metrics": {
      "type": "object",
      "properties": {
        "overall_quality_trends": {
          "type": "object",
          "properties": {
            "current_quality_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Most recent overall quality score"
            },
            "period_average_quality": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Average quality score over analysis period"
            },
            "quality_trend_direction": {
              "type": "string",
              "enum": ["improving", "declining", "stable", "insufficient_data"],
              "description": "Overall trend direction for quality"
            },
            "trend_magnitude": {
              "type": "number",
              "description": "Numerical magnitude of trend (-1 to +1, negative = declining)"
            },
            "trend_confidence": {
              "type": "string",
              "enum": ["high", "medium", "low"],
              "description": "Statistical confidence in trend analysis"
            },
            "quality_consistency": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Quality consistency score (1 = perfectly consistent)"
            },
            "quality_variance": {
              "type": "number",
              "minimum": 0,
              "description": "Statistical variance in quality scores"
            }
          },
          "required": ["current_quality_score", "period_average_quality", "quality_trend_direction", "trend_magnitude", "trend_confidence", "quality_consistency"],
          "additionalProperties": false
        },
        "evaluator_specific_trends": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "evaluator_type": {
                "type": "string",
                "enum": ["claude", "gemini", "perplexity"],
                "description": "Quality evaluator type"
              },
              "evaluator_weight": {
                "type": "number",
                "minimum": 0,
                "maximum": 1,
                "description": "Evaluator weight in consensus system"
              },
              "quality_metrics": {
                "type": "object",
                "properties": {
                  "current_score": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "period_average": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "trend_direction": {
                    "type": "string",
                    "enum": ["improving", "declining", "stable", "insufficient_data"]
                  },
                  "trend_magnitude": {
                    "type": "number"
                  },
                  "consistency_score": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "evaluation_count": {
                    "type": "integer",
                    "minimum": 0
                  }
                },
                "required": ["current_score", "period_average", "trend_direction", "consistency_score", "evaluation_count"],
                "additionalProperties": false
              },
              "specialization_performance": {
                "type": "object",
                "properties": {
                  "specialization_areas": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "creative_content_assessment",
                        "brand_voice_validation",
                        "narrative_coherence",
                        "technical_compliance",
                        "production_format_validation",
                        "research_accuracy_validation",
                        "fact_verification",
                        "source_authentication"
                      ]
                    }
                  },
                  "specialization_effectiveness": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1,
                    "description": "How effectively this evaluator performs in specialization areas"
                  },
                  "cross_domain_performance": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1,
                    "description": "Performance in non-specialization areas"
                  }
                },
                "required": ["specialization_areas", "specialization_effectiveness"],
                "additionalProperties": false
              }
            },
            "required": ["evaluator_type", "evaluator_weight", "quality_metrics", "specialization_performance"],
            "additionalProperties": false
          },
          "minItems": 1
        },
        "dimensional_quality_trends": {
          "type": "object",
          "patternProperties": {
            "^[a-z_]+$": {
              "type": "object",
              "properties": {
                "dimension_name": {
                  "type": "string",
                  "enum": [
                    "content_accuracy",
                    "narrative_coherence",
                    "brand_voice_alignment",
                    "engagement_optimization",
                    "technical_compliance",
                    "production_readiness",
                    "audio_synthesis_quality",
                    "research_validation_accuracy"
                  ]
                },
                "current_score": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1
                },
                "period_average": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1
                },
                "trend_direction": {
                  "type": "string",
                  "enum": ["improving", "declining", "stable", "insufficient_data"]
                },
                "trend_magnitude": {
                  "type": "number"
                },
                "consistency_score": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1
                },
                "target_score": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Target quality score for this dimension"
                },
                "target_achievement_status": {
                  "type": "string",
                  "enum": ["exceeding", "meeting", "approaching", "below_target"],
                  "description": "Current performance vs target"
                }
              },
              "required": ["dimension_name", "current_score", "period_average", "trend_direction", "consistency_score", "target_score", "target_achievement_status"],
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        }
      },
      "required": ["overall_quality_trends", "evaluator_specific_trends", "dimensional_quality_trends"],
      "additionalProperties": false
    },
    "quality_drift_analysis": {
      "type": "object",
      "properties": {
        "drift_detection_status": {
          "type": "string",
          "enum": ["no_drift", "minor_drift", "significant_drift", "severe_drift"],
          "description": "Overall quality drift assessment"
        },
        "drift_alerts": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "alert_id": {
                "type": "string",
                "pattern": "^drift_[0-9]{8}_[0-9]{6}_[0-9]{3}$"
              },
              "alert_type": {
                "type": "string",
                "enum": ["quality_drift", "consistency_drift", "evaluator_drift", "dimensional_drift"]
              },
              "alert_severity": {
                "type": "string",
                "enum": ["low", "medium", "high", "critical"]
              },
              "affected_component": {
                "type": "string",
                "description": "Evaluator, dimension, or overall system affected"
              },
              "drift_magnitude": {
                "type": "number",
                "description": "Statistical magnitude of detected drift"
              },
              "drift_direction": {
                "type": "string",
                "enum": ["positive", "negative"]
              },
              "detection_confidence": {
                "type": "string",
                "enum": ["high", "medium", "low"]
              },
              "recommended_action": {
                "type": "string",
                "enum": [
                  "monitor_closely",
                  "schedule_calibration",
                  "immediate_calibration",
                  "investigate_root_cause",
                  "quality_process_review"
                ]
              }
            },
            "required": ["alert_id", "alert_type", "alert_severity", "affected_component", "drift_magnitude", "drift_direction", "recommended_action"],
            "additionalProperties": false
          }
        },
        "predictive_drift_modeling": {
          "type": "object",
          "properties": {
            "prediction_horizon": {
              "type": "string",
              "enum": ["24_hours", "48_hours", "7_days", "30_days"],
              "description": "How far ahead predictions extend"
            },
            "predicted_quality_trajectory": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "prediction_timestamp": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "predicted_quality_score": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "prediction_confidence_interval": {
                    "type": "object",
                    "properties": {
                      "lower_bound": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1
                      },
                      "upper_bound": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1
                      },
                      "confidence_level": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1,
                        "description": "Statistical confidence level (e.g., 0.95 for 95%)"
                      }
                    },
                    "required": ["lower_bound", "upper_bound", "confidence_level"],
                    "additionalProperties": false
                  }
                },
                "required": ["prediction_timestamp", "predicted_quality_score", "prediction_confidence_interval"],
                "additionalProperties": false
              }
            },
            "risk_factors": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "risk_factor": {
                    "type": "string",
                    "enum": [
                      "increasing_evaluation_volume",
                      "evaluator_consistency_degradation",
                      "content_complexity_increase",
                      "production_schedule_pressure",
                      "evaluator_fatigue",
                      "quality_standard_drift"
                    ]
                  },
                  "risk_probability": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "impact_magnitude": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "mitigation_strategies": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1
                  }
                },
                "required": ["risk_factor", "risk_probability", "impact_magnitude", "mitigation_strategies"],
                "additionalProperties": false
              }
            }
          },
          "required": ["prediction_horizon", "predicted_quality_trajectory", "risk_factors"],
          "additionalProperties": false
        }
      },
      "required": ["drift_detection_status", "drift_alerts", "predictive_drift_modeling"],
      "additionalProperties": false
    },
    "quality_optimization_recommendations": {
      "type": "object",
      "properties": {
        "recommendation_summary": {
          "type": "object",
          "properties": {
            "total_recommendations": {
              "type": "integer",
              "minimum": 0
            },
            "critical_actions": {
              "type": "integer",
              "minimum": 0
            },
            "high_priority_actions": {
              "type": "integer",
              "minimum": 0
            },
            "quick_wins_identified": {
              "type": "integer",
              "minimum": 0
            },
            "strategic_initiatives": {
              "type": "integer",
              "minimum": 0
            }
          },
          "required": ["total_recommendations", "critical_actions", "high_priority_actions", "quick_wins_identified", "strategic_initiatives"],
          "additionalProperties": false
        },
        "specific_recommendations": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "recommendation_id": {
                "type": "string",
                "pattern": "^rec_[0-9]{8}_[0-9]{6}_[0-9]{3}$"
              },
              "recommendation_type": {
                "type": "string",
                "enum": [
                  "quality_calibration",
                  "evaluator_optimization",
                  "process_improvement",
                  "consistency_enhancement",
                  "drift_prevention",
                  "performance_optimization",
                  "resource_reallocation"
                ]
              },
              "priority": {
                "type": "string",
                "enum": ["critical", "high", "medium", "low"]
              },
              "target_component": {
                "type": "string",
                "description": "Specific evaluator, process, or system component to optimize"
              },
              "current_performance": {
                "type": "object",
                "properties": {
                  "metric_name": {
                    "type": "string"
                  },
                  "current_value": {
                    "type": "number"
                  },
                  "target_value": {
                    "type": "number"
                  },
                  "performance_gap": {
                    "type": "number"
                  }
                },
                "required": ["metric_name", "current_value", "target_value", "performance_gap"],
                "additionalProperties": false
              },
              "recommended_actions": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "action_description": {
                      "type": "string",
                      "minLength": 1
                    },
                    "implementation_effort": {
                      "type": "string",
                      "enum": ["low", "medium", "high"]
                    },
                    "expected_impact": {
                      "type": "object",
                      "properties": {
                        "quality_improvement": {
                          "type": "number",
                          "description": "Expected quality score improvement (0-1 scale)"
                        },
                        "consistency_improvement": {
                          "type": "number",
                          "description": "Expected consistency improvement (0-1 scale)"
                        },
                        "cost_impact": {
                          "type": "string",
                          "enum": ["cost_reduction", "cost_neutral", "cost_increase"]
                        },
                        "time_to_benefit": {
                          "type": "string",
                          "enum": ["immediate", "1_week", "1_month", "3_months"]
                        }
                      },
                      "required": ["quality_improvement", "consistency_improvement", "cost_impact", "time_to_benefit"],
                      "additionalProperties": false
                    },
                    "success_metrics": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "minItems": 1
                    }
                  },
                  "required": ["action_description", "implementation_effort", "expected_impact", "success_metrics"],
                  "additionalProperties": false
                }
              },
              "implementation_timeline": {
                "type": "string",
                "enum": ["immediate", "1_week", "2_weeks", "1_month", "3_months"]
              },
              "resource_requirements": {
                "type": "object",
                "properties": {
                  "human_effort_hours": {
                    "type": "number",
                    "minimum": 0
                  },
                  "technical_resources": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "budget_impact": {
                    "type": "number",
                    "description": "Estimated budget impact in dollars"
                  }
                },
                "required": ["human_effort_hours", "technical_resources"],
                "additionalProperties": false
              }
            },
            "required": [
              "recommendation_id",
              "recommendation_type",
              "priority",
              "target_component",
              "current_performance",
              "recommended_actions",
              "implementation_timeline",
              "resource_requirements"
            ],
            "additionalProperties": false
          }
        }
      },
      "required": ["recommendation_summary", "specific_recommendations"],
      "additionalProperties": false
    },
    "quality_pattern_analysis": {
      "type": "object",
      "properties": {
        "identified_patterns": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "pattern_id": {
                "type": "string",
                "pattern": "^pattern_[0-9]{8}_[0-9]{6}_[0-9]{3}$"
              },
              "pattern_type": {
                "type": "string",
                "enum": [
                  "content_type_quality_correlation",
                  "evaluator_performance_pattern",
                  "temporal_quality_variation",
                  "complexity_quality_relationship",
                  "cost_quality_efficiency_pattern",
                  "consensus_effectiveness_pattern"
                ]
              },
              "pattern_description": {
                "type": "string",
                "minLength": 1
              },
              "pattern_strength": {
                "type": "number",
                "minimum": 0,
                "maximum": 1,
                "description": "Statistical strength of identified pattern"
              },
              "confidence_level": {
                "type": "string",
                "enum": ["high", "medium", "low"]
              },
              "actionable_insights": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "minItems": 1
              },
              "optimization_opportunities": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Specific opportunities identified from this pattern"
              }
            },
            "required": ["pattern_id", "pattern_type", "pattern_description", "pattern_strength", "confidence_level", "actionable_insights"],
            "additionalProperties": false
          }
        },
        "pattern_based_predictions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "prediction_description": {
                "type": "string",
                "minLength": 1
              },
              "prediction_confidence": {
                "type": "string",
                "enum": ["high", "medium", "low"]
              },
              "supporting_patterns": {
                "type": "array",
                "items": {
                  "type": "string",
                  "description": "Pattern IDs that support this prediction"
                }
              },
              "recommended_monitoring": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "required": ["prediction_description", "prediction_confidence", "supporting_patterns"],
            "additionalProperties": false
          }
        }
      },
      "required": ["identified_patterns", "pattern_based_predictions"],
      "additionalProperties": false
    },
    "trend_analysis_metadata": {
      "type": "object",
      "properties": {
        "analysis_version": {
          "type": "string",
          "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
          "description": "Version of trend analysis algorithm used"
        },
        "data_quality_assessment": {
          "type": "object",
          "properties": {
            "completeness_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "consistency_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "timeliness_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "reliability_assessment": {
              "type": "string",
              "enum": ["high", "medium", "low"]
            }
          },
          "required": ["completeness_score", "consistency_score", "timeliness_score", "reliability_assessment"],
          "additionalProperties": false
        },
        "computational_performance": {
          "type": "object",
          "properties": {
            "analysis_duration_seconds": {
              "type": "number",
              "minimum": 0
            },
            "data_points_processed": {
              "type": "integer",
              "minimum": 0
            },
            "memory_usage_mb": {
              "type": "number",
              "minimum": 0
            },
            "algorithms_used": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "statistical_process_control",
                  "moving_averages",
                  "linear_regression",
                  "anomaly_detection",
                  "clustering_analysis",
                  "time_series_decomposition"
                ]
              }
            }
          },
          "required": ["analysis_duration_seconds", "data_points_processed", "algorithms_used"],
          "additionalProperties": false
        },
        "next_analysis_recommendation": {
          "type": "object",
          "properties": {
            "recommended_next_analysis": {
              "type": "string",
              "format": "date-time",
              "description": "When next trend analysis should be performed"
            },
            "analysis_priority": {
              "type": "string",
              "enum": ["routine", "elevated", "urgent"]
            },
            "focus_areas_for_next_analysis": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": ["recommended_next_analysis", "analysis_priority", "focus_areas_for_next_analysis"],
          "additionalProperties": false
        }
      },
      "required": ["analysis_version", "data_quality_assessment", "computational_performance", "next_analysis_recommendation"],
      "additionalProperties": false
    }
  },
  "required": [
    "analysis_metadata",
    "quality_trend_metrics",
    "quality_drift_analysis",
    "quality_optimization_recommendations",
    "quality_pattern_analysis",
    "trend_analysis_metadata"
  ],
  "additionalProperties": false
}
