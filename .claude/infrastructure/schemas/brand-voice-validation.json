{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Brand Voice Validation Report Schema",
  "description": "Standardized schema for brand voice consistency validation reports with >85% threshold compliance",
  "type": "object",
  "required": [
    "validation_metadata",
    "overall_assessment",
    "dimensional_scores",
    "enhanced_system_integration",
    "qualitative_evaluation",
    "quality_gate_decision",
    "improvement_recommendations"
  ],
  "properties": {
    "validation_metadata": {
      "type": "object",
      "required": ["episode_id", "script_word_count", "validation_timestamp", "validator_agent"],
      "properties": {
        "episode_id": {"type": "string"},
        "script_word_count": {"type": "integer"},
        "target_duration_minutes": {"type": "number"},
        "validation_timestamp": {"type": "string", "format": "date-time"},
        "validator_agent": {"type": "string", "enum": ["brand-voice-validator"]},
        "validation_version": {"type": "string", "default": "1.0.0"}
      }
    },
    "overall_assessment": {
      "type": "object",
      "required": ["total_score", "score_category", "threshold_met"],
      "properties": {
        "total_score": {"type": "number", "minimum": 0, "maximum": 100},
        "score_category": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
        "threshold_met": {"type": "boolean"},
        "quality_gate_status": {"type": "string", "enum": ["PASS", "CONDITIONAL_PASS", "NEEDS_REVISION", "FAILS"]}
      }
    },
    "dimensional_scores": {
      "type": "object",
      "required": ["intellectual_humility", "learning_celebration", "accessible_expert_tone", "uncertainty_transparency"],
      "properties": {
        "intellectual_humility": {
          "type": "object",
          "required": ["score", "weight", "rating", "key_metrics"],
          "properties": {
            "score": {"type": "number", "minimum": 0, "maximum": 100},
            "weight": {"type": "number", "enum": [0.25]},
            "rating": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
            "key_metrics": {
              "type": "object",
              "properties": {
                "uncertainty_acknowledgment_frequency": {"type": "number"},
                "humble_language_instances": {"type": "integer"},
                "mystery_celebration_count": {"type": "integer"},
                "expert_humanity_examples": {"type": "integer"}
              }
            }
          }
        },
        "learning_celebration": {
          "type": "object",
          "required": ["score", "weight", "rating", "key_metrics"],
          "properties": {
            "score": {"type": "number", "minimum": 0, "maximum": 100},
            "weight": {"type": "number", "enum": [0.25]},
            "rating": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
            "key_metrics": {
              "type": "object",
              "properties": {
                "curiosity_building_instances": {"type": "integer"},
                "wonder_expressions_count": {"type": "integer"},
                "collaborative_positioning_frequency": {"type": "number"},
                "future_questions_count": {"type": "integer"}
              }
            }
          }
        },
        "accessible_expert_tone": {
          "type": "object",
          "required": ["score", "weight", "rating", "key_metrics"],
          "properties": {
            "score": {"type": "number", "minimum": 0, "maximum": 100},
            "weight": {"type": "number", "enum": [0.25]},
            "rating": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
            "key_metrics": {
              "type": "object",
              "properties": {
                "approachability_score": {"type": "number", "minimum": 0, "maximum": 10},
                "condescension_flags": {"type": "integer"},
                "complexity_balance_rating": {"type": "number", "minimum": 0, "maximum": 10},
                "inclusive_language_percentage": {"type": "number", "minimum": 0, "maximum": 100}
              }
            }
          }
        },
        "uncertainty_transparency": {
          "type": "object",
          "required": ["score", "weight", "rating", "key_metrics"],
          "properties": {
            "score": {"type": "number", "minimum": 0, "maximum": 100},
            "weight": {"type": "number", "enum": [0.25]},
            "rating": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
            "key_metrics": {
              "type": "object",
              "properties": {
                "unverified_marking_compliance": {"type": "number", "minimum": 0, "maximum": 100},
                "limitation_acknowledgments": {"type": "integer"},
                "debate_recognition_instances": {"type": "integer"},
                "source_honesty_score": {"type": "number", "minimum": 0, "maximum": 10}
              }
            }
          }
        }
      }
    },
    "enhanced_system_integration": {
      "type": "object",
      "required": ["quote_balance_alignment", "engagement_hooks_philosophy", "segment_structure_consistency", "rhetorical_questions_integration"],
      "properties": {
        "quote_balance_alignment": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
        "engagement_hooks_philosophy": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
        "segment_structure_consistency": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
        "rhetorical_questions_integration": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]}
      }
    },
    "qualitative_evaluation": {
      "type": "object",
      "required": ["narrative_flow_assessment", "philosophy_consistency", "engagement_preservation", "authenticity_rating"],
      "properties": {
        "narrative_flow_assessment": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
        "philosophy_consistency": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
        "engagement_preservation": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
        "authenticity_rating": {"type": "string", "enum": ["excellent", "good", "needs_improvement", "failing"]},
        "strengths_identified": {"type": "array", "items": {"type": "string"}},
        "areas_for_improvement": {"type": "array", "items": {"type": "string"}}
      }
    },
    "quality_gate_decision": {
      "type": "object",
      "required": ["decision", "rationale", "production_approval"],
      "properties": {
        "decision": {"type": "string", "enum": ["PASS", "CONDITIONAL_PASS", "NEEDS_REVISION", "FAILS"]},
        "rationale": {"type": "string"},
        "production_approval": {"type": "boolean"},
        "conditional_requirements": {"type": "array", "items": {"type": "string"}},
        "blocking_issues": {"type": "array", "items": {"type": "string"}}
      }
    },
    "improvement_recommendations": {
      "type": "object",
      "required": ["priority_improvements", "specific_language_suggestions", "philosophy_integration_opportunities"],
      "properties": {
        "priority_improvements": {"type": "array", "items": {
          "type": "object",
          "required": ["issue", "recommendation", "example"],
          "properties": {
            "issue": {"type": "string"},
            "recommendation": {"type": "string"},
            "example": {"type": "string"},
            "line_reference": {"type": "string"}
          }
        }},
        "specific_language_suggestions": {"type": "array", "items": {
          "type": "object",
          "required": ["original_text", "suggested_replacement", "rationale"],
          "properties": {
            "original_text": {"type": "string"},
            "suggested_replacement": {"type": "string"},
            "rationale": {"type": "string"}
          }
        }},
        "philosophy_integration_opportunities": {"type": "array", "items": {"type": "string"}},
        "estimated_revision_time": {"type": "string"}
      }
    },
    "cost_tracking": {
      "type": "object",
      "required": ["validation_cost", "budget_allocated", "cost_efficiency"],
      "properties": {
        "validation_cost": {"type": "number"},
        "budget_allocated": {"type": "number", "enum": [0.25]},
        "cost_efficiency": {"type": "number"},
        "token_usage": {
          "type": "object",
          "properties": {
            "prompt_tokens": {"type": "integer"},
            "completion_tokens": {"type": "integer"},
            "total_tokens": {"type": "integer"}
          }
        }
      }
    }
  }
}
