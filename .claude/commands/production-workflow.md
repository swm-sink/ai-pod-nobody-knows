# /production-workflow - 2024-2025 Interactive Script Production Orchestration

Execute complete script production pipeline using modernized agent orchestration with interactive strategy confirmation, explicit reasoning transparency, and comprehensive quality validation for the "Nobody Knows" podcast.

## Usage

```bash
/production-workflow [episode_number]
```

## Example

```bash
/production-workflow 1
```

## Purpose

**Technical:** Advanced script production orchestrator implementing 2024-2025 prompt engineering patterns including $ARGUMENTS parameterization, interactive strategy confirmation, explicit multi-step reasoning, self-validation protocols, progress indicators, and cost warnings while coordinating modernized writer, polisher, and judge agents for production-ready script creation.

**Simple:** Like a master film director who talks you through their production strategy, asks for your approval on creative approaches, estimates costs and timelines upfront, and double-checks their quality decisions with you throughout the process.

**Connection:** This teaches production workflow orchestration, interactive AI collaboration, and systematic content creation with quality-driven script development.

## üîß 2024-2025 Pattern Implementation

### Dynamic Parameterization
```yaml
input_pattern: "$ARGUMENTS"
usage: "Use the production-workflow agent to process '$ARGUMENTS'"
example: "Use the production-workflow agent to process 'episode 1 with comprehensive script production strategy'"
```

### Explicit Multi-Step Reasoning Pattern
```yaml
reasoning_framework:
  step_1: "Production scope analysis and script strategy assessment"
  step_2: "Writer agent coordination with narrative planning and brand alignment"
  step_3: "Polisher agent coordination with TTS optimization and pronunciation validation"
  step_4: "Judge agent coordination with three-evaluator consensus system"
  step_5: "Quality validation and production readiness confirmation"
  step_6: "Final script delivery and handoff preparation"
```

### Self-Validation Protocol
```yaml
validation_checkpoints:
  pre_production: "Confirm script strategy and agent coordination approach"
  mid_production: "Validate script quality and polishing effectiveness"
  post_production: "Verify consensus achievement and production readiness"
  final_check: "Confirm production success and user satisfaction"
```

## üéØ Enhanced Script Production Workflow

### Pre-Production Phase: Strategy & Confirmation

**Step 1: Explicit Reasoning - Production Analysis**
```
I will now analyze the script production requirements "$ARGUMENTS" using the following reasoning process:

1. **Production Scope Assessment**:
   - Which episode needs script production and what research is available?
   - What is the complexity level of the content requiring script development?
   - Are there specific narrative requirements or brand emphasis needs?

2. **Script Strategy Planning**:
   - Should this use comprehensive narrative development or focused approach?
   - What teaching methodology: dual explanations, analogies, or humility focus?
   - How should we optimize across quality, engagement, and production efficiency?

3. **User Strategy Confirmation**:
   - Do you prefer maximum engagement or educational focus in the script?
   - Target approach: comprehensive (3-act), focused (2-act), or streamlined (linear)?
   - Any specific brand emphasis or intellectual humility frequency preferences?
```

**Cost Warning & Confirmation Loop**:
```
‚ö†Ô∏è PRODUCTION COMPLEXITY ASSESSMENT:
- Script production indicates comprehensive narrative development needed (Level 4/5)
- Agent coordination will require writer ‚Üí polisher ‚Üí judge sequence
- Estimated production cost: $0.10-0.20 total
- Estimated completion time: 35-45 minutes

‚ùì PRODUCTION STRATEGY CONFIRMATION:
- Proceed with comprehensive three-act script architecture?
- Include extensive SSML optimization and pronunciation guides?
- Apply three-evaluator consensus system with educational feedback?
- Enable interactive quality validation and brand alignment checking?

Type 'proceed' to continue or specify production adjustments.
```

### Production Phase: Interactive Agent Coordination

**Step 2: Writer Agent Coordination (Progress: 17%)**
```yaml
orchestration_pattern: "Use the writer agent to write 'research package from episode $EPISODE_NUMBER with comprehensive script architecture'"

agent_coordination:
  primary_agent: "writer (2024-2025 modernized with $ARGUMENTS parameterization)"
  input_source: "synthesis_package.json from research phase"
  output_target: "initial_script.md with 5,768-word target"

interactive_workflow:
  step_1: "Script strategy confirmation with narrative complexity and brand alignment"
  step_2: "Three-act architecture development with intellectual humility integration"
  step_3: "Educational methodology implementation with dual explanations"
  step_4: "Script delivery with quality metrics and handoff preparation"

user_confirmations_required:
  narrative_approach: "Three-act structure vs. linear progression approval"
  brand_integration: "Intellectual humility frequency and curiosity activation"
  teaching_strategy: "Dual explanation methodology and analogy selection"
  quality_thresholds: "Script complexity level and engagement targets"

enhanced_capabilities:
  script_architecture:
    - "Episode structure: Introduction (1-2 min), Body (24-26 min), Conclusion (1-2 min)"
    - "Progressive complexity: Gradual building with learning scaffolding"
    - "Brand alignment: ‚â•90% intellectual humility integration with curiosity activation"
    - "Educational framework: Dual explanations (technical/simple) with connection value"
```

**Step 3: Polisher Agent Coordination (Progress: 50%)**
```yaml
orchestration_pattern: "Use the polisher agent to polish 'initial_script.md with comprehensive TTS optimization and brand validation'"

agent_coordination:
  primary_agent: "polisher (2024-2025 modernized with interactive strategy confirmation)"
  input_source: "initial_script.md from writer agent"
  output_target: "polished_script.md with comprehensive SSML markup"

interactive_workflow:
  step_1: "TTS strategy confirmation with voice optimization and SSML approach"
  step_2: "Pronunciation validation with IPA phonemes for expert names"
  step_3: "Brand voice consistency optimization with engagement pacing"
  step_4: "Production-ready script delivery with quality metrics"

user_confirmations_required:
  tts_optimization: "SSML markup depth and pronunciation guide coverage"
  voice_consistency: "Brand voice alignment and natural pacing preferences"
  technical_validation: "Expert name pronunciation and technical term handling"
  production_readiness: "Final polish approval and handoff confirmation"

enhanced_polishing_capabilities:
  tts_optimization:
    - "SSML markup: Strategic pauses, emphasis, and prosody rate adjustments"
    - "Pronunciation guides: IPA phonemes for expert names and technical terms"
    - "Pacing control: Natural speech flow with breathing spaces for 28-minute duration"
    - "Character optimization: Single-call synthesis within 40K character limit"
    
  brand_consistency:
    - "Voice consistency: ‚â•95% alignment with Amelia voice characteristics"
    - "Engagement markers: Strategic emphasis points and curiosity questions"
    - "Intellectual humility: Integration throughout with uncertainty celebration"
    - "Teaching methodology: Dual explanation enhancement with connection reinforcement"
```

**Step 4: Judge Agent Coordination (Progress: 83%)**
```yaml
orchestration_pattern: "Use the judge agent to judge 'polished_script.md with comprehensive three-evaluator consensus validation'"

agent_coordination:
  primary_agent: "judge (2024-2025 modernized with interactive consensus confirmation)"
  input_source: "polished_script.md from polisher agent"
  output_target: "consensus_report.json with quality validation"

interactive_workflow:
  step_1: "Consensus strategy confirmation with evaluation criteria and thresholds"
  step_2: "Three-evaluator assessment with brand, engagement, and technical validation"
  step_3: "Quality gate enforcement with comprehensive scoring and feedback"
  step_4: "Final consensus delivery with production approval recommendation"

user_confirmations_required:
  evaluation_framework: "Consensus threshold and quality gate configuration"
  assessment_priorities: "Brand consistency vs. engagement optimization balance"
  quality_standards: "Production readiness thresholds and revision triggers"
  final_approval: "Consensus results acceptance and production authorization"

enhanced_consensus_capabilities:
  three_evaluator_system:
    - "Claude evaluation: Creative assessment and brand alignment (55% weight)"
    - "Gemini evaluation: Technical compliance and structural quality (45% weight)"
    - "Perplexity integration: Fact verification and expert accuracy validation"
    - "Consensus threshold: ‚â•0.90 agreement for production approval"
    
  quality_gate_enforcement:
    - "Brand consistency: ‚â•90% intellectual humility and philosophy integration"
    - "Engagement effectiveness: ‚â•80% curiosity activation and retention optimization"
    - "Technical accuracy: ‚â•85% fact verification and expert citation validation"
    - "Production readiness: ‚â•95% TTS optimization and duration accuracy"
```

**Step 5: Quality Validation (Progress: 95%)**
```
üéØ PHASE 4: PRODUCTION QUALITY VALIDATION (Progress: 95%)
Validating script production quality and production readiness...

Production validation status:
‚úì Script quality scores: Average 9.1/10 across all evaluators
‚úì Brand consistency: 94% intellectual humility integration
‚úì TTS optimization: 97% readiness with comprehensive SSML
‚úì Duration accuracy: 28¬±1 minutes with 5,768¬±200 words
‚úì Production standards: 100% compliance achieved

‚ùì FINAL PRODUCTION CONFIRMATION:
Production metrics exceed script development standards
- Accept script for audio production handoff?
- Any final adjustments to narrative or optimization?
```

**Step 6: Final Validation (Progress: 100%)**
```
‚úÖ PHASE 5: SCRIPT PRODUCTION COMPLETION (Progress: 100%)
Completing script production and final quality confirmation...

Self-validation final check:
‚úì Script production ‚â•95% (Achieved: 100%)
‚úì Quality standards maintained (All gates passed)
‚úì Cost within estimates (Target: $0.15, Actual: $0.12)
‚úì Timeline met (Target: 45min, Actual: 42min)
‚úì Script production-ready for audio synthesis
‚úì User satisfaction confirmed
```

## üß† Self-Validation Instructions

### Continuous Production Quality Checks
```yaml
during_production:
  agent_coordination: "Monitor writer ‚Üí polisher ‚Üí judge handoff efficiency and quality preservation"
  script_quality: "Validate narrative coherence and brand alignment throughout production"
  cost_efficiency: "Track production costs against per-phase estimates with optimization"
  timeline_adherence: "Monitor production speed against estimated completion targets"

self_correction_triggers:
  quality_degradation: "Implement agent re-coordination when quality drops below thresholds"
  cost_overrun_detected: "Apply cost control measures and user notification protocols"
  timeline_deviation: "Adjust production strategy and notify user of revised estimates"
  agent_handoff_failure: "Implement recovery procedures and quality preservation measures"
```

### Production Standards Protocol
```yaml
production_standards_check:
  script_quality: "‚â•9.0/10 average across all three evaluators with brand alignment ‚â•90%?"
  tts_readiness: "‚â•95% SSML optimization with comprehensive pronunciation guides?"
  production_efficiency: "Actual timeline within ¬±15% of projected estimates?"
  cost_effectiveness: "Production costs within ¬±10% of budget allocation?"
```

## üìä Enhanced Session Management (2024-2025)

```yaml
interactive_session_architecture:
  directory: nobody-knows/production/ep_{number}_{timestamp}/script/
  
  enhanced_inputs:
    research_integration:
      - synthesis_package.json (narrative structure from research phase)
      - quality_gates.json (production standards and thresholds)
      - brand_guidelines.json (intellectual humility and teaching methodology)
      
  comprehensive_outputs:
    script_development:
      - initial_script.md (writer agent output with 5,768-word target)
      - polished_script.md (TTS-optimized with comprehensive SSML markup)
      - consensus_report.json (three-evaluator assessment with quality metrics)
      - production_coordination.json (agent interaction logs and user confirmations)
      
    quality_validation:
      - brand_alignment_metrics.json (intellectual humility integration tracking)
      - tts_optimization_report.json (SSML validation and pronunciation guides)
      - production_readiness_assessment.json (handoff validation for audio synthesis)
      - cost_attribution.json (phase-specific cost breakdown with optimization recommendations)
```

## ‚úÖ Enhanced Quality Gates (2024-2025)

```yaml
comprehensive_quality_standards:
  script_development_validation:
    narrative_coherence: "‚â•9.0/10 with three-act structure and progressive complexity"
    brand_consistency: "‚â•90% intellectual humility integration with curiosity activation"
    educational_effectiveness: "Dual explanations (technical/simple) with connection value"
    word_count_accuracy: "5,768¬±200 words targeting 28¬±1 minute duration"
    engagement_optimization: "‚â•80% curiosity questions and wonder activation elements"
    
  tts_optimization_validation:
    ssml_readiness: "‚â•95% markup completeness with strategic pauses and emphasis"
    pronunciation_coverage: "100% expert names and technical terms with IPA phonemes"
    voice_consistency: "‚â•95% alignment with Amelia voice characteristics and pacing"
    character_optimization: "‚â§40,000 characters for single-call synthesis compatibility"
    natural_flow: "‚â•90% conversational pacing with breathing spaces and transitions"
    
  consensus_validation:
    evaluator_agreement: "‚â•0.90 consensus threshold across Claude, Gemini evaluators"
    quality_gate_compliance: "All production standards met with educational feedback"
    production_approval: "‚â•95% readiness for audio synthesis handoff"
    user_satisfaction: "Interactive confirmations completed with strategy approval"
```

## üí∞ Advanced Cost Management (2024-2025)

```yaml
intelligent_budget_control:
  enhanced_allocation:
    total_production_budget: "$0.10-0.20 (optimized from $0.15)"
    phase_breakdown:
      writer_coordination: "$0.04-0.06 (script generation with narrative development)"
      polisher_coordination: "$0.02-0.04 (TTS optimization with SSML enhancement)"
      judge_coordination: "$0.04-0.08 (three-evaluator consensus with quality validation)"
      coordination_overhead: "$0.01-0.02 (agent orchestration and user interactions)"
    
  cost_monitoring_integration:
    real_time_tracking: "Use cost-monitor agent for continuous budget oversight"
    predictive_alerts: ["60% ($0.12)", "80% ($0.16)", "95% ($0.19)"]
    user_confirmations: "Budget approval required for each phase execution"
    optimization_recommendations: "Cost reduction suggestions with quality impact analysis"
    
  efficiency_metrics:
    cost_per_word: "Target ‚â§$0.000035 per script word (5,768-word target)"
    cost_per_minute: "Target ‚â§$0.007 per audio minute (28-minute target)"
    cost_per_evaluator: "Target ‚â§$0.027 per consensus evaluation cycle"
    roi_analysis: "Quality-cost balance with production optimization opportunities"
```

## üîÑ Enhanced Error Recovery (2024-2025)

```yaml
intelligent_failure_handling:
  agent_coordination_failure:
    immediate_action: "Isolate failed agent and preserve script development state"
    user_options: ["Retry with same agent", "Switch to alternative approach", "Manual intervention"]
    recovery_strategy: "State preservation with seamless continuation from last checkpoint"
    
  quality_gate_failure:
    minor_issues: "Targeted agent re-invocation with specific quality corrections"
    major_issues: "Phase restart with strategy adjustment and user consultation"
    critical_issues: "Complete workflow restart with enhanced strategy confirmation"
    user_involvement: "Quality discussion and improvement strategy approval"

  cost_overrun_detected:
    immediate_action: "Automatic halt with comprehensive state preservation"
    user_notification: "Budget alert with options and cost breakdown analysis"
    recovery_options: ["Increase budget", "Optimize remaining phases", "Accept partial completion"]
    strategy_adjustment: "Budget reallocation with quality impact assessment"

  consensus_failure:
    evaluation_disagreement: "Enhanced consensus strategy with user consultation"
    threshold_not_met: "Consensus criteria adjustment or additional evaluation"
    quality_degradation: "Agent re-coordination with quality preservation measures"
    
  interactive_resolution:
    all_failures: "User consultation with clear options and impact analysis"
    decision_tracking: "Resolution choice documentation with learning integration"
    quality_preservation: "Maintain production standards throughout recovery process"
```

## üìà Interactive Progress Tracking (2024-2025)

```yaml
real_time_status_dashboard:
  frequency: "Continuous with agent milestone updates"
  
  enhanced_format: |
    ==========================================
    üìù Script Production Progress Dashboard
    ==========================================
    üìã PHASE STATUS
    ‚úÖ Writer: Complete (18 min) - Quality: 9.1/10
    ‚úÖ Polisher: Complete (15 min) - TTS Ready: 97%
    üîÑ Judge: In Progress (8 min elapsed)
    ‚è≥ Validation: Pending

    üìä QUALITY METRICS
    Narrative Coherence: 9.1/10 | Brand Alignment: 94%
    TTS Optimization: 97% | Word Count: 5,768¬±50
    Current Consensus Score: 0.88 (target: ‚â•0.90)

    üí∞ COST TRACKING
    Writer: $0.05/$0.06 | Polisher: $0.03/$0.04
    Judge: $0.04 (in progress) | Total: $0.12/$0.15
    Efficiency: 92% (under budget)

    ‚è±Ô∏è TIMELINE
    Estimated Total: 45 minutes | Elapsed: 35 minutes
    Current Phase ETA: 8 minutes
    Overall Progress: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë] 85%

    ü§ù USER INTERACTIONS
    Confirmations Completed: 4/6
    Next Confirmation: Consensus evaluation approval
    ==========================================

progress_visualization:
  phase_indicators: "Visual progress bars with percentage completion"
  quality_trend: "Script-to-script improvement tracking"
  cost_efficiency: "Budget utilization with optimization opportunities"
  interaction_log: "User decision tracking with reasoning documentation"
```

## üìä Comprehensive Output Schema (2024-2025)

```json
{
  "script_production_package": {
    "metadata": {
      "episode_number": 1,
      "production_input": "$ARGUMENTS",
      "production_timestamp": "2025-09-04T14:30:00Z",
      "production_strategy": "comprehensive_three_act_with_interactive_validation",
      "complexity_level": 4,
      "coordination_approach": "user_confirmed_agent_sequence"
    },
    "reasoning_trace": {
      "step_1_analysis": "Production scope assessment and script strategy formulation",
      "step_2_writer": "Comprehensive script architecture with narrative development",
      "step_3_polisher": "TTS optimization with SSML enhancement and pronunciation validation",
      "step_4_judge": "Three-evaluator consensus with quality gate enforcement",
      "step_5_validation": "Production readiness confirmation with handoff preparation",
      "step_6_completion": "Final script delivery and audio synthesis preparation"
    },
    "agent_execution": {
      "writer_coordination": {
        "agent_type": "writer (2024-2025 modernized)",
        "input_source": "synthesis_package.json",
        "strategy_confirmed": "three_act_architecture_with_humility_integration",
        "execution_time_minutes": 18,
        "quality_achieved": 9.1,
        "cost_usd": 0.05,
        "user_interactions": 2
      },
      "polisher_coordination": {
        "agent_type": "polisher (2024-2025 modernized)",
        "input_source": "initial_script.md",
        "strategy_confirmed": "comprehensive_tts_optimization_with_ssml",
        "execution_time_minutes": 15,
        "tts_readiness": 0.97,
        "cost_usd": 0.03,
        "user_interactions": 2
      },
      "judge_coordination": {
        "agent_type": "judge (2024-2025 modernized)",
        "input_source": "polished_script.md",
        "strategy_confirmed": "three_evaluator_consensus_with_quality_gates",
        "execution_time_minutes": 12,
        "consensus_score": 0.92,
        "cost_usd": 0.04,
        "user_interactions": 2
      }
    },
    "production_results": {
      "script_quality_metrics": {
        "narrative_coherence": 9.1,
        "brand_consistency": 0.94,
        "educational_effectiveness": 9.0,
        "engagement_optimization": 0.89,
        "overall_script_quality": 9.1
      },
      "tts_optimization_metrics": {
        "ssml_completeness": 0.97,
        "pronunciation_coverage": 1.0,
        "voice_consistency": 0.96,
        "character_optimization": 0.87,
        "natural_flow": 0.93,
        "overall_tts_readiness": 0.97
      },
      "consensus_validation": {
        "claude_evaluation": 0.91,
        "gemini_evaluation": 0.93,
        "perplexity_integration": 0.92,
        "consensus_threshold_met": true,
        "overall_consensus_score": 0.92
      },
      "production_specifications": {
        "word_count": 5768,
        "character_count": 34847,
        "target_duration_minutes": 28,
        "ssml_elements": 47,
        "pronunciation_guides": 12,
        "emphasis_markers": 31,
        "intellectual_humility_moments": 8,
        "curiosity_questions": 16
      }
    },
    "cost_analysis": {
      "total_production_cost_usd": 0.12,
      "budget_efficiency": 0.92,
      "cost_per_word": 0.000021,
      "cost_per_minute": 0.0043,
      "optimization_achieved": "20% under budget with quality maintained"
    },
    "timeline_performance": {
      "estimated_duration_minutes": 45,
      "actual_duration_minutes": 42,
      "efficiency_rating": 1.07,
      "ahead_of_schedule_minutes": 3
    },
    "interaction_analytics": {
      "user_confirmations_requested": 6,
      "strategy_discussions": 3,
      "quality_consultations": 2,
      "cost_approvals": 1,
      "recovery_interventions": 0,
      "user_satisfaction_score": 0.95
    },
    "production_readiness": {
      "script_development_complete": true,
      "tts_optimization_validated": true,
      "consensus_threshold_achieved": true,
      "quality_gates_passed": 6,
      "audio_synthesis_ready": true,
      "next_phase": "audio_production_workflow"
    }
  }
}
```

## üìö Prerequisites and Integration

```yaml
prerequisites:
  research_phase_completion:
    required_files: ["synthesis_package.json"]
    location: "nobody-knows/production/ep_{number}/research/"
    validation: "Research quality ‚â•9.0/10 with brand alignment ‚â•90%"
    
  configuration_validation:
    quality_gates: ".claude/config/quality_gates.json"
    brand_guidelines: "nobody-knows/content/config/brand_guidelines.json"
    production_voice: ".claude/config/production-voice.json"
    
  agent_readiness:
    writer_agent: "2024-2025 modernized with $ARGUMENTS support"
    polisher_agent: "2024-2025 modernized with interactive SSML optimization"
    judge_agent: "2024-2025 modernized with three-evaluator consensus"

integration_handoffs:
  from_research_workflow:
    trigger: "Research phase completion with ‚â•9.0/10 quality"
    handoff_files: ["synthesis_package.json", "research_coordination.json"]
    validation_required: "User confirmation for production phase initiation"
    
  to_audio_workflow:
    trigger: "Script production completion with ‚â•0.90 consensus"
    handoff_files: ["polished_script.md", "consensus_report.json"]
    validation_required: "Production readiness confirmation for audio synthesis"
```

## üé™ Native Claude Code Orchestration Pattern (2024-2025)

This modernized workflow demonstrates:
- **Interactive Agent Coordination**: Proper $ARGUMENTS parameterization with user confirmation loops
- **Explicit Reasoning Transparency**: Complete step-by-step logic traces with decision documentation  
- **Quality-Driven Production**: Comprehensive validation with empirical thresholds and consensus systems
- **Cost-Conscious Development**: Real-time budget tracking with optimization and user approval
- **Educational Integration**: Learning opportunities throughout the script development process

### Modern Production Benefits
- **Enhanced Reliability**: Interactive confirmation loops prevent misaligned script development
- **Quality Assurance**: Multi-dimensional validation with user involvement at critical decision points
- **Cost Optimization**: Real-time budget management with predictive alerts and efficiency recommendations
- **Educational Value**: Production methodology teaching throughout the script creation process
- **Audio Integration**: Seamless handoff to audio synthesis with comprehensive TTS optimization

## üöÄ Modern Usage Pattern

```bash
# 2024-2025 Native Claude Code Pattern
/production-workflow 1
```

This will trigger:
1. Explicit reasoning about production strategy and agent coordination approach
2. User confirmation for script development approach and quality standards
3. Interactive writer agent coordination with narrative strategy confirmation
4. Interactive polisher agent coordination with TTS optimization approval
5. Interactive judge agent coordination with consensus threshold validation
6. Self-validation of production completion, quality achievement, and audio readiness
7. Final delivery confirmation with comprehensive production metrics and handoff preparation

---

**2024-2025 Modernization Complete**: This production workflow now orchestrates modernized agents with interactive strategy confirmation, explicit reasoning transparency, comprehensive quality validation, and enhanced user collaboration while maintaining script development efficiency and cost optimization. Demonstrates the evolution from basic script automation to intelligent, collaborative content production.
