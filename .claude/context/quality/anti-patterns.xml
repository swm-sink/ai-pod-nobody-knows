<?xml version="1.0" encoding="UTF-8"?>
<document type="reference">
  <metadata>
    <title>Anti-Pattern Prevention</title>
    <domain>quality</domain>
    <version>1.0</version>
    <last-updated>2025-08-11</last-updated>
    <criticality>ESSENTIAL</criticality>
  </metadata>

  <content>
    <section id="critical-importance">
      <title>Critical Importance</title>
      <mandate>PREVENTING ANTI-PATTERNS IS ESSENTIAL FOR SYSTEM RELIABILITY</mandate>
      <warning>ANTI-PATTERNS CAUSE MAINTENANCE NIGHTMARES AND TECHNICAL DEBT</warning>
    </section>

    <section id="forbidden-patterns">
      <title>Forbidden Patterns</title>

      <pattern type="status-tracking">
        <forbidden>status="pending"/"completed" attributes in markdown documentation</forbidden>
        <required>Use dynamic JSON session files for state tracking</required>
      </pattern>

      <pattern type="hardcoded-progress">
        <forbidden>Hardcoded progress indicators in documentation</forbidden>
        <required>Dynamic progress calculation from session data</required>
      </pattern>

      <pattern type="circular-dependencies">
        <forbidden>Circular dependencies between components</forbidden>
        <required>Clear dependency hierarchy (Level 1 → Level 2 → Level 3 → Level 4)</required>
      </pattern>

      <pattern type="vague-criteria">
        <forbidden>Vague success criteria</forbidden>
        <required>Specific metrics with thresholds (e.g., "&lt;$5 per episode")</required>
      </pattern>

      <pattern type="untestable-claims">
        <forbidden>Untestable claims</forbidden>
        <required>Include validation commands for every technical claim</required>
      </pattern>
    </section>

    <section id="required-patterns">
      <title>Required Patterns</title>

      <pattern type="state-tracking">
        <required>Use JSON session files in appropriate level directories</required>
        <location>.claude/*/sessions/ directories</location>
      </pattern>

      <pattern type="single-responsibility">
        <required>Each agent/command/tool has one clear purpose</required>
        <validation>Each component should be describable in one sentence</validation>
      </pattern>

      <pattern type="visible-state">
        <required>All progress/state tracked in visible session files</required>
        <implementation>Everything important gets saved to trackable files</implementation>
      </pattern>
    </section>
  </content>

  <cross-references>
    <reference target="./dry-principle-enforcement.xml">DRY Principle</reference>
    <reference target="./validation_requirements.xml">Validation Requirements</reference>
    <reference target="./ENFORCEMENT_STANDARDS.xml">Enforcement Standards</reference>
  </cross-references>
</document>
